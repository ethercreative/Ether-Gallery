!function($,e,t,a){"use strict";function l(e,t){this.element=e,this.settings=$.extend({},i,t),this._defaults=i,this._name=n,this.init()}var n="etherGallery",i={keys:!0,swipe:!0};$.extend(l.prototype,{init:function(){var e=this,t=$("body");e.overlay=$(".egal-overlay"),e.overlay.length<1&&(e.overlay=$('<div class="egal-overlay" />').click(function(){e.closeGallery(e)}),t.append(e.overlay)),e.ul=$(".egal-ul"),e.ul.length<1&&(e.ul=$('<ul class="egal-ul" />'),t.append(e.ul));var a=$(this.element).find("a[data-gallery]");a.click(function(t){t.preventDefault(),t.stopImmediatePropagation(),e.openGallery(e,this)}),e.keyListener=function(t){39===t.keyCode?e.ul.find(".egal-next").click():37===t.keyCode?e.ul.find(".egal-prev").click():27===t.keyCode&&e.closeGallery(e)};var l=null,n=null;e.handleTouchStart=function(e){l=e.touches[0].clientX,n=e.touches[0].clientY},e.handleTouchMove=function(t){if(l&&n){var a=t.touches[0].clientX,i=t.touches[0].clientY,s=l-a,c=n-i;Math.abs(s)>Math.abs(c)&&(s>0?e.ul.find(".egal-next").click():e.ul.find(".egal-prev").click()),l=null,n=null}}},openGallery:function(e,a){function l(t){var a=$(t).prev(),n=$(t).next();e.ul.find("li").removeClass("egal-active").removeClass("egal-next").removeClass("egal-prev").removeClass("egal-after-next"),a.addClass("egal-prev").find("img").attr("src",a.data("image")),n.addClass("egal-next").find("img").attr("src",n.data("image")),$(t).addClass("egal-active").off("click"),a.off("click").click(function(){l(this)}),n.off("click").click(function(){l(this)}),n.nextAll().addClass("egal-after-next")}var n=$(a).data("gallery"),i=$(a).attr("href"),s=$(e.element).find("a[data-gallery="+n+"]");e.ul.html(""),s.each(function(){e.ul.append('<li data-image="'+$(this).attr("href")+'"><div><img src="" alt="'+($(this).attr("title")||"")+'" /></div></li>')});var c=e.ul.find('li[data-image="'+i+'"]'),o=c.prev(),r=c.next();c.addClass("egal-active").find("img").attr("src",c.data("image")),o.addClass("egal-prev").find("img").attr("src",o.data("image")),r.addClass("egal-next").find("img").attr("src",r.data("image")),r.nextAll().addClass("egal-after-next"),e.ul.find("li").find("img").on("load",function(){$(this).parent().css("opacity",1)}),o.click(function(){l(this)}),r.click(function(){l(this)}),e.settings.keys&&t.addEventListener("keydown",e.keyListener,!0),e.settings.swipe&&(t.addEventListener("touchstart",e.handleTouchStart,!1),t.addEventListener("touchmove",e.handleTouchMove,!1)),$("body").addClass("egal-open")},closeGallery:function(e){t.removeEventListener("keydown",e.keyListener,!0),t.removeEventListener("touchstart",e.handleTouchStart,!1),t.removeEventListener("touchmove",e.handleTouchMove,!1),$("body").removeClass("egal-open")}}),$.fn[n]=function(e){return this.each(function(){$.data(this,"plugin_"+n)||$.data(this,"plugin_"+n,new l(this,e))})}}(jQuery,window,document);
//# sourceMappingURL=./ether-gallery.jquery.min.js.map